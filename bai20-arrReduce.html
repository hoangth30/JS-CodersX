<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

</body>
<script>
    var orders = [
        { name: 'A', quantity: 2, unitPrice: 100 },
        { name: 'B', quantity: 1, unitPrice: 400 },
        { name: 'C', quantity: 5, unitPrice: 15 }
    ];

    // ====
    let people = [
        { name: 'Alice', age: 21 },
        { name: 'Max', age: 20 },
        { name: 'Jane', age: 20 }
    ];

    arr = [];
    function groupAge(objectArray) {
        objectArray.map(function (obj) {
            arr.push(obj.age);
        })
        var sum = arr.reduce(function (a, b) {
            return a + b;
        })
        return sum;
        console.log(sum);
    }
    console.log(groupAge(people));

    // tinh tong price
    var wishlist = [
        { title: "Tesla Model S", price: 90000 },
        { title: "4 carat diamond ring", price: 45000 },
        { title: "Fancy hacky Sack", price: 5 },
        { title: "Gold fidgit spinner", price: 2000 },
        { title: "A second Tesla Model S", price: 90000 }
    ];

    var wishlistArr = [];
    function shoppingSpree(wishlist) {
        wishlist.map(function (obj) {
            wishlistArr.push(obj.price);
        })
        var sum = wishlistArr.reduce(function (a, b) {
            return a + b;
        })
        return sum;
    }

    function shoppingSpree1(wishlist) {
        var allSum = wishlist.reduce(function (total, current) {
            console.log(total, current);
            return total + current.price;
        }, 0)

        return allSum;
    }
    console.log(shoppingSpree1(wishlist));

    // exercise 3
    var titleArr = [];
    function arrayTitle(wishlist) {
        wishlist.map(function (obj) {
            titleArr.push(obj.title);
        })
        return titleArr;
    }

    console.log(shoppingSpree(wishlist));
    console.log(arrayTitle(wishlist));

    var voters = [
        { name: 'Bob', age: 30, voted: true },
        { name: 'Jake', age: 32, voted: true },
        { name: 'Kate', age: 25, voted: false },
        { name: 'Sam', age: 20, voted: false },
        { name: 'Phil', age: 21, voted: true },
        { name: 'Ed', age: 55, voted: true },
        { name: 'Tami', age: 54, voted: true },
        { name: 'Mary', age: 31, voted: false },
        { name: 'Becky', age: 43, voted: false },
        { name: 'Joey', age: 41, voted: true },
        { name: 'Jeff', age: 30, voted: true },
        { name: 'Zack', age: 19, voted: false }
    ];
    // Explanation: The zero at the end is the initial value of a. a is known as the accumulator. 
    // The "reduce" function iterates through each value in the array, passing in the accumulator "a" as well is the current item "c". 
    // The right size of the fat arrow is the return value. 
    // If yourboolvariable value is true, it will add 1 to a and return that. 
    // If yourboolvariable value is false, it will simply return the previous value of a, ready to be passed in to the next iteration. 
    // The final value of a becomes the result returned to count.
    
    /* function totalVotes(arr) {
        var count = arr.reduce((a, c) => c.voted ? ++a : a, 0);
        return count;
    } */

    function totalVotes(arr){
        var count = arr.reduce(function(total, current){
            if (current.voted === true){
                return total+=1;
            } else {
                return total;
            }
        }, 0)
        return count;
        
    }
    console.log(totalVotes(voters));
</script>

</html>